<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<body>

    <div th:fragment="article(post, comments)">
        <div class="news">
            <article>
                <div id="post" class="${'post' + post.id}">
                    <img src="" alt="" class="largeImg">
                    <div class="article-content" th:text="${post.content}"></div>
                </div>

                <p class="article-signature">
                    Publié par <span th:text="${post.author}"></span>, le <span th:text="${post.dateOfCreation}"></span>
                    <button id='btnPost' class='btn btn-primary' th:value="${post.id}">Commenter</button>
                </p>
            </article>
        </div>
        <div th:each="comment: ${comments}">
            <div class="commentGroup">
                <p class="comment-content">

                </p>
                <p class="comment-signature">

                </p>
                <button onclick='displayForm({{ comment.id }},{{ comment.depth }})' class='comment-answer btn btn-primary' data-comment-id={{ comment.id }}>Répondre</button>
                <button onclick='reportComment({{ comment.id }},{{ post.id }})' class='btn-report btn btn-warning'><i class='far fa-bell'></i> Signaler</button>
            </div>
        </div>
        <form id='comment-form' class='comment-form' method='POST' th:attr="data-postId=${post.id}">
            <label for="name">Nom/Pseudo: </label>
            <input id="name" type='text' name='name' required>
            <textarea form='comment-form' name="commentContent"></textarea>
            <input type='hidden' id="node-depth-form" name='depth' value="">
            <input type='submit' value='Envoyer'>
        </form>
    </div>

</body>

</html>